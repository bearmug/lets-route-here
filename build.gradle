plugins {
    id 'java'
    id 'scala'
    id 'jacoco'
    id 'com.github.kt3k.coveralls' version '2.6.3'
}

repositories {
    jcenter()
}

jacocoTestReport {
    reports {
        xml.enabled = true
        html.enabled = true
    }
}

sourceSets {
    main {
        // java-scala interoperability configuration
        java.srcDirs = []
        scala.srcDirs += ['src/main/java']
    }

    test {
        java.srcDirs = []
        scala.srcDirs = ['src/test-unit/scala', 'src/test-unit/java']
        resources.srcDirs = ['src/test-unit/resources']
    }
}

dependencies {
    compile 'org.scala-lang:scala-library:2.11.8'

    testCompile 'junit:junit:4.12'
    testCompile 'org.scalatest:scalatest_2.11:2.2.6'
    testRuntime 'org.scala-lang.modules:scala-xml_2.11:1.0.5'
}

task run(type: JavaExec, description: 'running target application') {
    classpath = sourceSets.main.runtimeClasspath
    main = 'org.bearmug.Console'
    standardInput = System.in
}
